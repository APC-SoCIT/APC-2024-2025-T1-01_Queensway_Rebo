{
  "name": "Laravel + MariaDB Dev",
  "build": {
    "dockerfile": "Dockerfile"
  },
  "forwardPorts": [8000],
  "postCreateCommand": "chmod +x .devcontainer/init-db.sh && .devcontainer/init-db.sh && [ -f .env ] || cp .env.example .env && composer install && php artisan key:generate",
  "customizations": {
    "vscode": {
      "extensions": [
        "xdebug.php-debug",
        "bmewburn.vscode-intelephense-client"
      ]
    }
  },
  "features": {
    "ghcr.io/devcontainers/features/mariadb:2": {
      "version": "10.6",
      "database": "ecommerce",
      "user": "root",
      "password": "root"
    }
  },
  "mounts": [
    "source=${localWorkspaceFolder}/ecommerce.sql,target=/workspace/ecommerce.sql,type=bind,consistency=cached",
    "source=${localWorkspaceFolder}/.env,target=/workspace/.env,type=bind,consistency=cached"
  ],
  "remoteUser": "vscode"
}
